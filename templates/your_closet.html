<!DOCTYPE html>
<html>
  <head>
    <title>Wardrobe</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" type="text/css" href="/static/css/your_closet.css" />
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
      integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <div class="container">
      <div
        class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm"
      >
        <h5 class="my-0 mr-md-auto font-weight-normal">Smart Wardrobe</h5>
        <nav class="navbar navbar-expand-lg navbar-light">
          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            data-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
              <li class="nav-item active">
                <a class="nav-link" href="/your_closet"
                  >Wardrobe<span class="sr-only">(current)</span></a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/Check_Matching">Check Matching</a>
              </li>

              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdownMenuLink"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  Occasion
                </a>
                <div
                  class="dropdown-menu"
                  aria-labelledby="navbarDropdownMenuLink"
                >
                  <a class="dropdown-item" id="Ethnic" href="/occasion/Ethnic"
                    >Ethnic</a
                  >
                  <a class="dropdown-item" id="Casuals" href="/occasion/Casuals"
                    >Casuals</a
                  >
                  <a class="dropdown-item" id="Formals" href="/occasion/Formals"
                    >Formals</a
                  >
                </div>
              </li>
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdownMenuLink"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  Online Recommendation
                </a>
                <div
                  class="dropdown-menu"
                  aria-labelledby="navbarDropdownMenuLink"
                >
                  <a class="dropdown-item" href="/online/Shirt">Shirt</a>
                  <a class="dropdown-item" href="/online/T-shirt">T-shirt</a>
                  <a class="dropdown-item" href="/online/Jeans">Jeans</a>
                  <a class="dropdown-item" href="/online/Shorts">Shorts</a>
                </div>
              </li>
            </ul>
          </div>
        </nav>
        <a class="btn btn-outline-primary" href="/logout">Logout</a>
      </div>

      <form
        class="form"
        method="post"
        action="/your_closet"
        enctype="multipart/form-data"
        style="text-align: center"
      >
        <input type="file" id="user_image" name="user_image" hidden />
        <input
          id="buttonid"
          type="button"
          class="btn btn-primary"
          value="SELECT CLOTHING"
        />
        <input
          type="submit"
          class="btn btn-primary"
          id="submit_clothing"
          value="ADD CLOTHING"
        />
      </form>

      <hr style="width: 90%; text-align: left; margin-left: 0" />
      <h2>T-SHIRTS</h2>
      <hr style="width: 100%; text-align: left; margin-left: 0" />
      <div class="row T-shirts">
        {% for i in Tshirts %}

        <div class="col-md-3 col-sm-6">
          <div class="card">
            <div
              class="card-body close-button"
              id="static\wardrobe_users\{{user}}\T-shirts\{{i}}"
              onclick="mydelete(this.id)"
            >
              <img
                src="static\wardrobe_users\{{user}}\T-shirts\{{i}}"
                alt="ok"
                class="image"
              />
              <!-- <p>
                <i
                  class="fa fa-trash"
                  id="static\wardrobe_users\{{user}}\T-shirts\{{i}}"
                  onclick="mydelete(this.id)"
                  style="font-size: 20px; color: red"
                ></i>
              </p> -->
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <hr style="width: 90%; text-align: left; margin-left: 0" />
      <h2>SHIRTS</h2>
      <hr style="width: 90%; text-align: left; margin-left: 0" />
      <div class="row">
        {% for i in Shirts %}
        <div class="col-md-3 col-sm-6">
          <div class="card">
            <div
              class="card-body close-button"
              id="static\wardrobe_users\{{user}}\Shirts\{{i}}"
              onclick="mydelete(this.id)"
            >
              <img
                src="static\wardrobe_users\{{user}}\Shirts\{{i}}"
                alt="ok"
                class="image"
              />
              <!-- <p>
                <i class="fa fa-trash" onclick="mydelete(this.id)"></i>
              </p> -->
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <hr style="width: 90%; text-align: left; margin-left: 0" />
      <h2>SHORTS</h2>
      <hr style="width: 90%; text-align: left; margin-left: 0" />
      <div class="row">
        {% for i in Shorts %}
        <div class="col-md-3 col-sm-6">
          <div class="card">
            <div
              class="card-body close-button"
              id="static\wardrobe_users\{{user}}\Shorts\{{i}}"
              onclick="mydelete(this.id)"
            >
              <img
                src="static\wardrobe_users\{{user}}\Shorts\{{i}}"
                alt="ok"
                class="image"
              />
            </div>
          </div>
        </div>
        {% endfor %}
      </div>

      <hr style="width: 90%; text-align: left; margin-left: 0" />
      <h2>PANTS</h2>
      <hr style="width: 90%; text-align: left; margin-left: 0" />
      <div class="row">
        {% for i in Pants %}
        <div class="col-md-3 col-sm-6">
          <div class="card">
            <div
              class="card-body close-button"
              id="static\wardrobe_users\{{user}}\Pants\{{i}}"
              onclick="mydelete(this.id)"
            >
              <img
                src="static\wardrobe_users\{{user}}\Pants\{{i}}"
                alt="ok"
                class="image"
              />
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <hr style="width: 90%; text-align: left; margin-left: 0" />
      <h2>JACKETS</h2>
      <hr style="width: 90%; text-align: left; margin-left: 0" />
      <div class="row">
        {% for i in Jackets %}
        <div class="col-md-3 col-sm-6">
          <div class="card">
            <div
              class="card-body close-button"
              id="static\wardrobe_users\{{user}}\Jackets\{{i}}"
              onclick="mydelete(this.id)"
            >
              <img
                src="static\wardrobe_users\{{user}}\Jackets\{{i}}"
                alt="ok"
                class="image"
              />
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </body>
  <script>
    document.getElementById("submit_clothing").style.display = "none";
    document.getElementById("buttonid").addEventListener("click", openDialog);

    function openDialog() {
      document.getElementById("user_image").click();
      document.getElementById("submit_clothing").style.display = "inline";
      document.getElementById("buttonid").style.display = "none";
    }

    function mydelete(id) {
      console.log(id);
      $.ajax({
        data: {
          id: id,
        },
        type: "POST",
        url: "/delete",
      });
      setTimeout(function () {
        location.reload();
      }, 1000);
    }
  </script>
</html>
